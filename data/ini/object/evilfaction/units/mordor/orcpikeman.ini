// EvilMod New units ////////////////////////////////////////////////////////////////// OBJECT:OrcPike
// EvilModTest2(Editor version, for full playlabel) ///////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////

Object MordorOrcPikeman               

  
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = WOR_UrukPikemen
  SelectPortrait         = EMOrcPikeman

 Draw = W3DScriptedModelDraw ModuleTag_01

    ; Arrow sticking
    DefaultModelConditionState
      Model = MUOrcPike_SKN
    End

		IdleAnimationState
			Animation = IDLA
	      AnimationName = IUPikeman_SKL.IUPikeman_IDLA
	      AnimationMode = ONCE
				AnimationPriority = 15
			End
			Animation = IDLB
	      AnimationName = IUPikeman_SKL.IUPikeman_IDLB
	      AnimationMode = ONCE
				AnimationPriority = 10
			End
			Animation = IDLC
	      AnimationName = IUPikeman_SKL.IUPikeman_IDLC
	      AnimationMode = ONCE
			End
			StateName = Idle
		End
 
    AnimationState = MOVING
			Animation = Moving_1
	      AnimationName = IUPikeman_SKL.IUPikeman_RUNA
		    AnimationMode = LOOP
			End
			Animation = Moving_2
	      AnimationName = IUPikeman_SKL.IUPikeman_RUNB
		    AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
    End


	AnimationState =  FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
		Animation = ATKC
			AnimationName		= IUPikeman_SKL.IUPikeman_ATKC
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
	End
	

	AnimationState = FIRING_OR_PREATTACK_A AIM_HIGH 
		Animation = ATKB
			AnimationName		= IUPikeman_SKL.IUPikeman_ATKB
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
	End
	

	AnimationState =  FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName		= IUPikeman_SKL.IUPikeman_ATKA
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
	End

    AnimationState = DYING SPLATTED
 			Animation = Splattered_On_Ground_1
				AnimationName = IUPikeman_SKL.IUBanner_LNDA
	      AnimationMode = ONCE
			End
 			Animation = Splattered_On_Ground_2
				AnimationName = IUPikeman_SKL.IUBanner_LNDB
	      AnimationMode = ONCE
			End
    End

     AnimationState = DYING AFLAME
			Animation = Flaming_Death
	      AnimationName = IUPikeman_SKL.IUPikeman_MFDA
		    AnimationMode = ONCE
			End
    End

    AnimationState = DYING
			Animation = Dying_1
	      AnimationName = IUPikeman_SKL.IUPikeman_DTHA
		    AnimationMode = ONCE
			End
			Animation = Dying_2
	      AnimationName = IUPikeman_SKL.IUPikeman_DTHB
		    AnimationMode = ONCE
			End
    End
 
    ; --- stunned anims
    AnimationState = STUNNED_FLAILING
 			Animation = Flying_1
				AnimationName = IUPikeman_SKL.IUPikeman_FLYA
	      AnimationMode = LOOP
			End
 			Animation = Flying_2
				AnimationName = IUPikeman_SKL.IUPikeman_FLYB
	      AnimationMode = LOOP
			End
 			Animation = Flying_3
				AnimationName = IUPikeman_SKL.IUPikeman_FLYC
	      AnimationMode = LOOP
			End
      Flags = RANDOMSTART
    End

    AnimationState = STUNNED
 			Animation = Splattered_On_Ground
				AnimationName = IUPikeman_SKL.IUPikeman_LNDA
	      AnimationMode = ONCE
			End
    End

    AnimationState = STUNNED_STANDING_UP
 			Animation = Standing_Back_Up
				AnimationName = IUPikeman_SKL.IUPikeman_GTPA
	      AnimationMode = ONCE
			End
    End
  End
  
  

    #include "..\..\..\includes\StunDrawModuleSmall.inc"

; ***DESIGN parameters ***

  	Side 		= Mordor
  	EditorSorting 	= UNIT
	ThreatLevel 	= 1.0
  	ThingClass 	= HORDE_UNIT
  	CommandPoints 	= 1

  	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
  
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardPikemanPike ;BALANCE Isengard Pikeman Weapon
	End
	
 	ArmorSet
    	  	Conditions      = None
    	  	Armor           = UrukPikeArmor
    	  	DamageFX        = NormalDamageFX
  	End
  	ArmorSet
	  	Conditions      = PLAYER_UPGRADE
	  	Armor           = UrukPikeHeavyArmor
		DamageFX        = NormalDamageFX	
  	End

	; ***DESIGN parameters ***
  Side = Mordor
  EditorSorting = UNIT
  ThreatLevel = 1.0
  ThingClass = HORDE_UNIT
  CommandPoints = 1

  TransportSlotCount = 1
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    IsengardPikemanPike ;BALANCE Isengard Pikeman Weapon
  End
	
  ArmorSet
    Conditions      = None
    Armor           = ArcherArmor
    DamageFX        = NormalDamageFX
  End
  VisionRange = 80.0
  DisplayName = OBJECT:OrcPike
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
;  CommandSet = MordorFighterCommandSet

  ; *** AUDIO Parameters ***;


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER CAN_USE_SIEGE_TOWER SCORE THROWN_OBJECT
 
  Body = ActiveBody ModuleTag_02
    MaxHealth         = 150                  ;BALANCE Isengard Pikeman Health
    MaxHealthDamaged  = 75
    RecoveryTime      = 5000
  End
 
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 500
    HoldGroundCloseRangeDistance = 80
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 36
  End

  LocomotorSet
    Locomotor     = HumanWanderLocomotor
    Condition     = SET_WANDER
    Speed         = 16
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult = 1.0
    ShockStunnedTimeLow = 9000
    ShockStunnedTimeHigh = 15000
    ShockStandingTime = 6000
  End
  
  Behavior = AimWeaponBehavior AimWeaponModuleTag
		AimHighThreshold =  0.15
	End
 
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

	; *** AUDIO Parameters ***;

	VoiceAttack					= OrcFighterVoiceAttackMS			;UrukVoiceAttack		;MordorOrcHordeVoiceAttack
	VoiceAttackCharge				= OrcFighterVoiceAttackCharge			;MordorOrcHordeVoiceAttackCharge
	VoiceAttackStructure				= OrcFighterVoiceAttackBuilding
	VoiceCreated					= EVA:OrcHordeCreated
	VoiceFullyCreated 				= EVA:OrcHordeCreated
	VoiceGuard					= OrcFighterVoiceMoveMS
	VoiceMove					= OrcFighterVoiceMoveMS				;UrukVoiceMove			;MordorOrcHordeVoiceMove
	VoiceMoveToCamp					= OrcFighterVoiceMoveCamp
	VoicePriority					= 15
	VoiceRetreatToCastle				= OrcFighterVoiceRetreat
	VoiceSelect					= OrcFighterVoiceSelectMS			;UrukVoiceSelect		;MordorOrcHordeVoiceSelect
	VoiceSelectBattle				= OrcFighterVoiceSelectBattle

	VoiceEnterStateAttack				= OrcFighterVoiceEnterStateAttack		;UrukVoiceAttack		;MordorOrcHordeVoiceAttack
 	VoiceEnterStateAttackCharge			= OrcFighterVoiceEnterStateAttackCharge		;MordorOrcHordeVoiceAttackCharge
	VoiceEnterStateAttackStructure			= OrcFighterVoiceEnterStateAttackBuilding
	VoiceEnterStateMove				= OrcFighterVoiceEnterStateMove			;UrukVoiceMove			;MordorOrcHordeVoiceMove
	VoiceEnterStateMoveToCamp			= OrcFighterVoiceEnterStateMoveCamp
	VoiceEnterStateRetreatToCastle			= OrcFighterVoiceEnterStateRetreat
	
	SoundImpact					= ImpactHorse					;UrukDie

	UnitSpecificSounds
		VoiceGarrison				= OrcFighterVoiceGarrison
		VoiceEnterUnitMordorMumakil		= OrcFighterVoiceEnterMumakil
		VoiceEnterUnitSlaughterHouse		= OrcFighterVoiceGarrisonSlaughterHouse
		VoiceEnterUnitEvilMenTransportShip	= OrcFighterVoiceMoveMS
		VoiceInitiateCaptureBuilding		= OrcHordeVoiceCaptureBuilding
	End
 
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 24
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 70%
    TumbleRandomly = Yes

    CrushStyle = Yes ; I don't detonate, I just hit
    DieOnImpact = Yes
    BounceCount = 1   ; When I hit the ground, I'll arc again
    BounceDistance = 40 ; this far
    BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 24
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End

  ; Tie into LargeGroupAudio system
  Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
	Key = Orc Unit Infantry
  End
 
 
  Behavior = DualWeaponBehavior ModuleTag_09
    SwitchWeaponOnCloseRangeDistance = 40
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 11;
  ShadowSizeY = 11;
  ShadowTexture = ShadowI;
End