;//------------------------------------------------------------------------------
;// This is the magic thing in the .bse file that tells how to center the base layout compared to the game position of the fortress
Object ElvenCastleCenterGeneric

	SelectPortrait = BPDFortress
	
	Draw = W3DScriptedModelDraw ModuleTag_01

    	DefaultModelConditionState
      		Model = None
    	End
    	
		ModelConditionState = WORLD_BUILDER
			Model = NBasePin
		End
	End
	
	Side			= Elves
	EditorSorting		= STRUCTURE
	KindOf			= IMMOBILE BASE_FOUNDATION CASTLE_CENTER
  
	Behavior = CastleBehavior ModuleTag_castle
		;//Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.	
		FilterValidOwnedEntries = ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER				
	End  
End

;-------------------------------------------------------------------------------
Object ElvenCastleWallSegment_RJ
  
	// *** ART Parameters ***  
  	SelectPortrait = BPEWall
  
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes
		DefaultModelConditionState
			Model = EBWallN
		End

		ModelConditionState = BUILD_PLACEMENT_CURSOR
			Model =  EBWallN_CUR
		End
		
;		ModelConditionState = SNOW BUILD_PLACEMENT_CURSOR
;			Model = EBWallN_CUR
;			Texture	= DBFortress1.tga DBFortress1_snow.tga
;		End
						
		IdleAnimationState
			StateName = STATE_None
		End	
		
		//------------ New Build Up States coming soon. 
		ModelConditionState = SNOW AWAITING_CONSTRUCTION
			Model = EBWallN_A
			Texture	= EBFortress.tga EBFortress_snow.tga
		End
				
		ModelConditionState   = AWAITING_CONSTRUCTION 
			Model               = EBWallN_A
		End
		AnimationState        = AWAITING_CONSTRUCTION
			Animation           =  EBWallN_A
				AnimationName     =  EBWallN_A.EBWallN_A
				AnimationMode     = MANUAL
				AnimationBlendTime = 0
			End
			Flags				  = START_FRAME_FIRST
		End

		ModelConditionState = UPGRADE_NUMENOR_STONEWORK ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model	= EBWallN_A
			Texture	= EBFortress.tga EBFortress_U.tga
		End
		ModelConditionState = SNOW ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model = EBWallN_A
			Texture	= EBFortress.tga EBFortress_snow.tga
		End
		
		ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model               = EBWallN_A
		End
	    
		AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Animation           = EBWallN_A
				AnimationName     = EBWallN_A.EBWallN_A
				AnimationMode     = MANUAL
				AnimationBlendTime = 0
			End
			Flags				  = START_FRAME_FIRST
			StateName			  = BeingConstructed
			ParticleSysBone   = NONE WallConstructDust FollowBone:Yes
		End

		//--damaged building	  
		ModelConditionState  = DAMAGED
			Model         = EBWallN_D1  
		End
		AnimationState = DAMAGED
			EnteringStateFX	= FX_WallDamaged
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = EBWallN_D2
		End
	    
	    AnimationState = REALLYDAMAGED
      		Animation				=	RubbleAnimation
				AnimationName		=	 EBWallN_D2.EBWallN_D2
				AnimationMode		=	ONCE
  			End
		    EnteringStateFX	= FX_WallDamaged
		End
 
		ModelConditionState  = COLLAPSING
			Model         = EBWallN_D3
		End
		
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	 EBWallN_D3.EBWallN_D3
				AnimationMode		=	ONCE
  			End
  			ParticleSysBone NONE WallDestructionDust
		End

		ModelConditionState  = RUBBLE
			Model         = None	;GBWall_Rubble  
		End  
		
		ModelConditionState  = POST_RUBBLE
			Model         = None	;GBWall_Rubble
		End
		AnimationState = POST_RUBBLE
		End

		ModelConditionState  = POST_COLLAPSE
		Model         = None
		End
		AnimationState = POST_COLLAPSE
		End 

		ModelConditionState = UPGRADE_NUMENOR_STONEWORK
			Model	= EBWallN
			Texture	= EBFortress.tga EBFortress_U.tga
		End
		ModelConditionState = SNOW  
			Model = EBWallN
			Texture	= EBFortress.tga EBFortress_snow.tga
		End	    

	End


	Draw = W3DScriptedModelDraw ModuleTag_Draw_Rubble
		OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes
		DefaultModelConditionState
			Model = None
		End
	
		ModelConditionState  = COLLAPSING
			Model         = GBWall_Rubble
		End
		
		ModelConditionState  = RUBBLE
			Model         = GBWall_Rubble
		End
	    
		ModelConditionState  = POST_RUBBLE
			Model         = GBWall_Rubble
		End

		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End
	End
     
	; ***DESIGN parameters ***
	DisplayName         = OBJECT:ElvenCastleWallSegment
	Side                = Elves
	EditorSorting       = STRUCTURE
	ThreatLevel = 1.0
	 
	BuildCost           = ELVEN_CASTLE_WALLSEGMENT_BUILDCOST
	BuildTime           = ELVEN_CASTLE_WALLSEGMENT_BUILDTIME
	VisionRange         = 160.0          // Shroud clearing distance
	ShroudClearingRange = 160
	CommandSet			= SellableCommandSet
	  
	ArmorSet
		Conditions        = None
		Armor             = ElvenWallArmor
	End

  ; *** AUDIO Parameters ***

	;#include "..\..\..\Includes\ElvenBuildingEvaEvents.inc"

	VoiceSelect						= Gui_PlotSelect2
    VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction

	SoundOnDamaged					= BuildingLightDamageStone
	SoundOnReallyDamaged			= BuildingHeavyDamageStone

    UnitSpecificSounds
        UnderConstruction		= WallConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= WallConstructionLoop	; Repaired from completely destroyed (not used???)
    End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
		ModelCondition = REQUIRED:RUBBLE Sound:BuildingSink
	End

	CampnessValue = CAMPNESS_WALL

	// *** ENGINEERING Parameters ***
	RadarPriority       = STRUCTURE
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE WALL_SEGMENT SCALEABLE_WALL MADE_OF_STONE
	ThreatBreakdown ThreatBreakdown_ModuleTag
		AIKindOf = WALL
	End
 
	//This is important to let the user select the rubble to begin self repair
	KeepSelectableWhenDead	= Yes

 
	Behavior            = GettingBuiltBehavior ModuleTag_04
		SelfBuildingLoop			= WallConstructionLoop			// Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop	= NoSound						// This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop	= WallConstructionLoop
		UseSpawnTimerWithoutWorker 		= Yes
		SpawnTimer	= DEFAULT_STRUCTURE_HEALDELAY
		RebuildTimeSeconds			= ELVEN_CASTLE_WALLSEGMENT_BUILDTIME
	End

	Body                = StructureBody ModuleTag_05
		MaxHealth				= 2000
		MaxHealthDamaged		= 1000
		MaxHealthReallyDamaged	= 500
	End
 
	// These should always appear together on wall segments
	Behavior = KeepObjectDie ModuleTag_IWantRubble 
		DeathTypes			= ALL -SUICIDED
	End
	Behavior            = SlowDeathBehavior ModuleTag_SlowDeath
		DeathTypes			= NONE +SUICIDED
		DestructionDelay = 5000
	End												
	// These should always appear together on wall segments

	Behavior = ReplaceSelfUpgrade ModuleTag_Replace_With_Hub
		ReplaceWith = ElvenCastleWallHub
		TriggeredBy = Upgrade_ElvenWallHub
		ConflictsWith = Upgrade_ElvenWallRegularGate
	End
		
	Behavior = ReplaceSelfUpgrade ModuleTag_Replace_With_Gate
		ReplaceWith = ElvenCastleWallGate
		TriggeredBy = Upgrade_ElvenWallRegularGate
		ConflictsWith = Upgrade_ElvenWallHub
	End

	Behavior = ProductionUpdate ModuleTag_RequiredForUpgradeProduction
	End

	//Encasing Vines
	Behavior = InheritUpgradeCreate ModuleTag_InheritStonework
		Radius = ELVEN_FORTRESS_WALL_EFFECTIVE_RADIUS
		Upgrade = Upgrade_ElvenFortressEncasingVines
		ObjectFilter = ANY +ElvenCitadel
	End

	Behavior = AttributeModifierUpgrade ModuleTag_Reinforced
		TriggeredBy				= Upgrade_ElvenFortressEncasingVines
		AttributeModifier		= EncasingVinesExpansion_Bonus
	End

	Behavior = ModelConditionUpgrade ModuleTag_ShowTheVines
		TriggeredBy			= Upgrade_ElvenFortressEncasingVines		
		AddConditionFlags	= UPGRADE_NUMENOR_STONEWORK
		Permanent			= Yes
	End
	//End Encasing Vines

	;//	Geometry for the temp men small wall segment
	Geometry              = BOX
	GeometryMajorRadius   = 4.0
	GeometryMinorRadius   = 18.9
	GeometryHeight        = 40.0
	GeometryIsSmall       = No

;	Geometry              = BOX
;	GeometryMajorRadius   = 4.0
;	GeometryMinorRadius   = 20.0
;	GeometryHeight        = 40.0
;	GeometryIsSmall       = No
	  
	;Geometry              = BOX
	;GeometryMajorRadius   = 25.0
	;GeometryMinorRadius   = 20.0
	;GeometryHeight        = 50
	;GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME
	BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------ 
;Rivendell Gate
Object ElvenCastleGate_RJ

	SelectPortrait = BPCRivendellGate
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes

    DefaultModelConditionState  
      Model = RivGate
    End

;--------- damage states for the gate

		ModelConditionState   = DAMAGED
			Model               = RivGate_D1
		End
		
//		Having this AnimationState in results in a bug where an opened gate will switch 
//		to closed when it becomes damaged!
//		AnimationState = DAMAGED
//			EnteringStateFX = FX_RDGateDamaged
//		End
		
		
				
		ModelConditionState   = REALLYDAMAGED
			Model               = RivGate_D2
		End
		
//		Having this AnimationState in results in a bug where an opened gate will switch 
//		to closed when it becomes damaged!
//		AnimationState = REALLYDAMAGED
//			EnteringStateFX = FX_RDGateReallyDamaged
//		End


		ModelConditionState  = COLLAPSING DOOR_1_OPENING
			Model         = RivGate_D3
		End
		AnimationState = COLLAPSING DOOR_1_OPENING
      		Animation				=	RubbleAnimation
				AnimationName		=	 RivGate_D3.RivGate_D3
				AnimationMode		=	ONCE
  			End
		End
		
		ModelConditionState  = COLLAPSING
			Model         = RivGate_D4
		End
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	 RivGate_D4.RivGate_D4
				AnimationMode		=	ONCE
  			End
  			EnteringStateFX	= FX_BuildingSinkSound
		End

		ModelConditionState  = RUBBLE
			Model         = RivGate_D4  
		End  
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	 RivGate_D4.RivGate_D4
				AnimationMode		=	ONCE
  			End
  			Flags				=	START_FRAME_LAST
		End
				
		ModelConditionState  = POST_RUBBLE
			Model         = NONE
		End
		AnimationState = POST_RUBBLE
		End

		ModelConditionState  = POST_COLLAPSE
		Model         = None
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End
		AnimationState = POST_COLLAPSE
			ParticleSysBone NONE SmokeBuildingMediumRubble
		End 

				
;------ Door Animations

		AnimationState = DOOR_1_OPENING 
			Flags = START_FRAME_LAST
			StateName = Door_Open
			Animation				=	Death
				AnimationName		=	RivGate_SKL.RivGate_OP
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Close" then CurDrawableSetTransitionAnimState("TRANS_Closed_To_Open") end
			EndScript
		End
		TransitionState = TRANS_Closed_To_Open
			Animation = Open 
				AnimationName	=	RivGate_SKL.RivGate_OPN
				AnimationMode	=	ONCE 
			End
		End
    
		AnimationState = DOOR_1_CLOSING 
			Flags = START_FRAME_LAST
			StateName = Door_Close
			Animation				=	Death
				AnimationName		=	RivGate_SKL.RivGate_CL
				AnimationMode		=	ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Door_Open" then CurDrawableSetTransitionAnimState("TRANS_Open_To_Closed") end
			EndScript
		End
		TransitionState = TRANS_Open_To_Closed
			Animation = Open 
				AnimationName	=	RivGate_SKL.RivGate_CLS
				AnimationMode	=	ONCE 
			End
		End
		
  End
  
	// ***DESIGN parameters ***
	DisplayName		= OBJECT:RivendellGate
	Side				= Elves
	EditorSorting		= STRUCTURE
	Browser			= REGION Rivendell STRUCTURE
	ThreatLevel		= 1.0
		
	CommandSet = CastleGateCommandSet
	 
	BuildCost           	= 500
	BuildTime           	= 15.0           ; in seconds
	VisionRange         	= 160.0          ; Shroud clearing distance
	ShroudClearingRange 	= 160
	KeepSelectableWhenDead	= Yes

	ArmorSet
		Conditions        = None
		Armor             = ElvenWallArmor
		DamageFX          = GateDamageFX
	End

  ; *** AUDIO Parameters ***

	SoundOnDamaged		= BuildingLightDamageStone
	SoundOnReallyDamaged	= BuildingHeavyDamageStone

	;  VoiceSelect         = GondorBarracksSelect
	 
	;  UnitSpecificSounds
	;  UnderConstruction     = UnderConstructionLoop
	;  End
 

	// *** ENGINEERING Parameters ***

    RadarPriority       = STRUCTURE
	KindOf              = STRUCTURE IMMOBILE SELECTABLE BLOCKING_GATE MADE_OF_WOOD IGNORE_FOR_VICTORY
	;KindOf              = PRELOAD STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE SELECTABLE BLOCKING_GATE ;WALK_ON_TOP_OF_WALL

	Body						= ActiveBody ModuleTag_05
		MaxHealth				= 7000.0
		MaxHealthDamaged		= 3000.0
		MaxHealthReallyDamaged  = 1000.0
	End

	Behavior = KeepObjectDie ModuleTag_IWantRubble
		;CollapsingTime = 10000
	End

	Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
		SelfBuildingLoop			= BuildingConstructionLoop		; Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop	= NoSound						; This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop	= BuildingConstructionLoop
		SpawnTimer					= -1.0							; Negative means no 'autoheal'
		RebuildTimeSeconds			= 40
	End

	Behavior = FakePathfindPortalBehaviour ModuleTag_FAKEPATHFIND
		AllowEnemies			= No
		AllowNonSkirmishAIUnits	= No
	End
	
	Behavior = AIGateUpdate ModuleTage_AIGateUpdate
		TriggerWidthX = 300.0
		TriggerWidthY = 150.0
	End
	
	Behavior = GateOpenAndCloseBehavior ModuleTag_GATE
		ResetTimeInMilliseconds			= 2000				;important! this must be longer than the gates animation, ir it will twitch
		OpenByDefault					= Yes
		PercentOpenForPathing			= 50
		SoundOpeningGateLoop			= GateOpenStart
		SoundClosingGateLoop			= GateCloseStart
		SoundFinishedOpeningGate		= GateOpenEnd
		SoundFinishedClosingGate		= GateCloseEnd
		TimeBeforePlayingOpenSound		= 9500
		TimeBeforePlayingClosedSound	= 9500
	End	
	  
	AttackContactPoint = X:-24 Y:-24 Z:92

;	Geometry			  = BOX
;	GeometryMajorRadius   = 0.1
;	GeometryMinorRadius   = 0.1
;	GeometryHeight        = 0.1
;	GeometryOffset		= X:0 Y:-80 Z:0

	
	Geometry			  = BOX
	GeometryMajorRadius   = 45.0  
	GeometryMinorRadius   = 40.0  
	GeometryHeight        = 65.0
	GeometryOffset		= X:0 Y:-80 Z:0
	
	AdditionalGeometry	  = BOX
	GeometryMajorRadius   = 45.0  
	GeometryMinorRadius   = 40.0  
	GeometryHeight        = 65.0
	GeometryOffset		= X:0 Y:80 Z:0

	AdditionalGeometry	  = BOX
	GeometryName		  = "Closed"
	GeometryMajorRadius   = 5.0
	GeometryMinorRadius   = 60.0
	GeometryHeight        = 65.0
	GeometryOffset		= X:30 Y:0 Z:0
	
	; Left open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenLeft"
	GeometryMajorRadius   = 45.0  
	GeometryMinorRadius   = 10.0  
	GeometryHeight        = 65.0
	GeometryOffset        = X:0 Y:-40 Z:0
	
	; Right open
	AdditionalGeometry    = BOX
	GeometryName		  = "OpenRight"
	GeometryMajorRadius   = 45.0  
	GeometryMinorRadius   = 10.0  
	GeometryHeight        = 65.0
	GeometryOffset        = X:0 Y:40 Z:0   
	
	
	GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------
;Rivendell Walkway Curve
Object ElvenWalkwayCurve_RJ

SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkCurv
    End

    WallBoundsMesh = P1
        
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Elves
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160



; For Testing Purposes


; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

;  VoiceSelect         = NuclearReactorSelect
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI ;SELECTABLE
 
	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 3000
    MaxHealthDamaged = 1500
    MaxHealthReallyDamaged = 750
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0    
  End
  
  ArmorSet
    Conditions        = None
    Armor             = ElvenWallArmor
    DamageFX          = None
  End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
;	Behavior = KeepObjectDie ModuleTag_IWantRubble
;	End

;  Behavior            = DestroyDie ModuleTag_07
;    ;nothing
;  End
 
	#include "..\..\..\..\includes\wallbonus.inc"

; 	Behavior = FireWeaponWhenDeadBehavior FireDeadTag1
;		DeathTypes		= ALL
;		StartsActive	= Yes
;		DeathWeapon		= WallDeath
;	End	

	Geometry              = BOX
	GeometryMajorRadius   = 0.1
	GeometryMinorRadius   = 0.1
	GeometryHeight        = 0.1
	GeometryOffset		  = X:0 Y:0.0 Z:0

;	Geometry              = BOX
;	GeometryMajorRadius   = 50.0
;	GeometryMinorRadius   = 55.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0 Y:0.0 Z:0
	
;	AdditionalGeometry    = CYLINDER
;	GeometryMajorRadius   = 40.0
;	GeometryMinorRadius   = 40.0
;	GeometryHeight        = 60.0
;	GeometryOffset		  = X:0.0 Y:0.0 Z:0
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
  
  	GeometryContactPoint = X:-90  Y:70  Z:0 Grab
	GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
	GeometryContactPoint = X:-90  Y:-30 Z:10 
	GeometryContactPoint = X:-60  Y:-30 Z:60 
	GeometryContactPoint = X:-30   Y:-30 Z:10 
	GeometryContactPoint = X:0    Y:-30 Z:60
	GeometryContactPoint = X:30   Y:-30 Z:10
	GeometryContactPoint = X:60  Y:-30 Z:60
	GeometryContactPoint = X:90  Y:-30 Z:10 
	GeometryContactPoint = X:90 Y:-40 Z:0 Grab
	GeometryContactPoint = X:90 Y:70  Z:0 Grab
End

;------------------------------------------------------------------------------
;Rivendell Walkway Ramp
Object ElvenWalkwayRamp_RJ

SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkRamp
    End

    RampMesh1 = P1
        
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Elves
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160



; For Testing Purposes


; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

;  VoiceSelect         = NuclearReactorSelect
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI ;SELECTABLE
 
	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 3000.0
    MaxHealthDamaged = 1500.0
    MaxHealthReallyDamaged = 750.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0    
  End
  
  ArmorSet
    Conditions        = None
    Armor             = ElvenWallArmor
    DamageFX          = None
  End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
;	Behavior = KeepObjectDie ModuleTag_IWantRubble
;	End

;  Behavior            = DestroyDie ModuleTag_07
;    ;nothing
;  End
 
	#include "..\..\..\..\includes\wallbonus.inc"

; 	Behavior = FireWeaponWhenDeadBehavior FireDeadTag1
;		DeathTypes		= ALL
;		StartsActive	= Yes
;		DeathWeapon		= WallDeath
;	End	

	Geometry              = BOX
	GeometryMajorRadius   = 0.1
	GeometryMinorRadius   = 0.1
	GeometryHeight        = 0.1
	GeometryOffset		  = X:0 Y:0.0 Z:0

;	Geometry              = BOX
;	GeometryMajorRadius   = 50.0
;	GeometryMinorRadius   = 35.0
;	GeometryHeight        = 52.0
;	GeometryOffset		  = X:0 Y:0.0 Z:0
	
;	AdditionalGeometry    = CYLINDER
;	GeometryMajorRadius   = 30.0
;	GeometryMinorRadius   = 30.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0.0 Y:0.0 Z:0.0
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
  
  	GeometryContactPoint = X:-90  Y:70  Z:0 Grab
	GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
	GeometryContactPoint = X:-90  Y:-30 Z:10 
	GeometryContactPoint = X:-60  Y:-30 Z:60 
	GeometryContactPoint = X:-30   Y:-30 Z:10 
	GeometryContactPoint = X:0    Y:-30 Z:60
	GeometryContactPoint = X:30   Y:-30 Z:10
	GeometryContactPoint = X:60  Y:-30 Z:60
	GeometryContactPoint = X:90  Y:-30 Z:10 
	GeometryContactPoint = X:90 Y:-40 Z:0 Grab
	GeometryContactPoint = X:90 Y:70  Z:0 Grab
End

;------------------------------------------------------------------------------
;Rivendell Walkway
Object ElvenWalkway_RJ

;	SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkway
    End

    WallBoundsMesh = P1
        
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Elves
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160



; For Testing Purposes


; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

;  VoiceSelect         = NuclearReactorSelect
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI ;SELECTABLE;
 
	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 3000.0
    MaxHealthDamaged = 1500.0
    MaxHealthReallyDamaged = 750.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0    
  End
  
  ArmorSet
    Conditions        = None
    Armor             = ElvenWallArmor
    DamageFX          = None
  End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
;	Behavior = KeepObjectDie ModuleTag_IWantRubble
;	End

;  Behavior            = DestroyDie ModuleTag_07
;    ;nothing
;  End
 
	#include "..\..\..\..\includes\wallbonus.inc"

; 	Behavior = FireWeaponWhenDeadBehavior FireDeadTag1
;		DeathTypes		= ALL
;		StartsActive	= Yes
;		DeathWeapon		= WallDeath
;	End	

	Geometry              = BOX
	GeometryMajorRadius   = 0.1
	GeometryMinorRadius   = 0.1
	GeometryHeight        = 0.1
	GeometryOffset		  = X:0 Y:0.0 Z:0

;	Geometry              = BOX
;	GeometryMajorRadius   = 35.0
;	GeometryMinorRadius   = 35.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0 Y:0.0 Z:0
	
;	AdditionalGeometry    = CYLINDER
;	GeometryMajorRadius   = 30.0
;	GeometryMinorRadius   = 30.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0.0 Y:0.0 Z:0.0
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
  
  	GeometryContactPoint = X:-90  Y:70  Z:0 Grab
	GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
	GeometryContactPoint = X:-90  Y:-30 Z:10 
	GeometryContactPoint = X:-60  Y:-30 Z:60 
	GeometryContactPoint = X:-30   Y:-30 Z:10 
	GeometryContactPoint = X:0    Y:-30 Z:60
	GeometryContactPoint = X:30   Y:-30 Z:10
	GeometryContactPoint = X:60  Y:-30 Z:60
	GeometryContactPoint = X:90  Y:-30 Z:10 
	GeometryContactPoint = X:90 Y:-40 Z:0 Grab
	GeometryContactPoint = X:90 Y:70  Z:0 Grab
End

;------------------------------------------------------------------------------
;Rivendell Walkway
Object ElvenWalkwayCovering1_RJ

SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkwayT1
    End

;    WallBoundsMesh = P1


;----- Damage States

		ModelConditionState  = COLLAPSING
			Model         = RivWalkwayT1D
		End
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	 RivWalkwayT1D.RivWalkwayT1D
				AnimationMode		=	ONCE
  			End
		End

		ModelConditionState  = RUBBLE
			Model         = None
		End
		AnimationState = RUBBLE
		End

		ModelConditionState  = POST_RUBBLE
			Model         = None
		End
		AnimationState = POST_RUBBLE
		End
		
		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End  
		AnimationState = POST_COLLAPSE
		End	
        
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Elves
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160



; For Testing Purposes


; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

;  VoiceSelect         = NuclearReactorSelect
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI ;SELECTABLE WALK_ON_TOP_OF_WALL
 
	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1000.0
    MaxHealthDamaged = 500.0
    MaxHealthReallyDamaged = 250.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0    
  End
  
  ArmorSet
    Conditions        = None
    Armor             = NoArmor 
    DamageFX          = None
  End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
;	Behavior = KeepObjectDie ModuleTag_IWantRubble
;	End

;  Behavior            = DestroyDie ModuleTag_07
;    ;nothing
;  End
 
;  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
;		StartsActive	= Yes ;If no, requires upgrade to turn on.
;		BonusName		= HelmsDeepWallBonus
;		RefreshDelay	= 2000
;		;Range			= 120		; Range is overridden to affect people on us since we are a wall
;		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
;	End	

; 	Behavior = FireWeaponWhenDeadBehavior FireDeadTag1
;		DeathTypes		= ALL
;		StartsActive	= Yes
;		DeathWeapon		= WallDeath
;	End	

	Geometry              = BOX
	GeometryMajorRadius   = 0.1
	GeometryMinorRadius   = 0.1
	GeometryHeight        = 0.1
	GeometryOffset		  = X:5.0 Y:0.0 Z:50

;	Geometry              = BOX
;	GeometryMajorRadius   = 35.0
;	GeometryMinorRadius   = 35.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0 Y:0.0 Z:50
	
;	AdditionalGeometry    = CYLINDER
;	GeometryMajorRadius   = 30.0
;	GeometryMinorRadius   = 30.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0.0 Y:0.0 Z:0.0
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
  
  	GeometryContactPoint = X:-90  Y:70  Z:0 Grab
	GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
	GeometryContactPoint = X:-90  Y:-30 Z:10 
	GeometryContactPoint = X:-60  Y:-30 Z:60 
	GeometryContactPoint = X:-30   Y:-30 Z:10 
	GeometryContactPoint = X:0    Y:-30 Z:60
	GeometryContactPoint = X:30   Y:-30 Z:10
	GeometryContactPoint = X:60  Y:-30 Z:60
	GeometryContactPoint = X:90  Y:-30 Z:10 
	GeometryContactPoint = X:90 Y:-40 Z:0 Grab
	GeometryContactPoint = X:90 Y:70  Z:0 Grab
End




;------------------------------------------------------------------------------
;Rivendell Walkway
Object ElvenWalkway3_RJ

SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkway3
    End

    WallBoundsMesh = P1
        
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Elves
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160



; For Testing Purposes


; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

;  VoiceSelect         = NuclearReactorSelect
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE WALK_ON_TOP_OF_WALL CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI ;SELECTABLE;
 
	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 4000.0
    MaxHealthDamaged = 2000.0
    MaxHealthReallyDamaged = 1000.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0    
  End
  
  ArmorSet
    Conditions        = None
    Armor             = ElvenWallArmor
    DamageFX          = None
  End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
;	Behavior = KeepObjectDie ModuleTag_IWantRubble
;	End

;  Behavior            = DestroyDie ModuleTag_07
;    ;nothing
;  End
 
	#include "..\..\..\..\includes\wallbonus.inc"

; 	Behavior = FireWeaponWhenDeadBehavior FireDeadTag1
;		DeathTypes		= ALL
;		StartsActive	= Yes
;		DeathWeapon		= WallDeath
;	End	

	Geometry              = BOX
	GeometryMajorRadius   = 0.1
	GeometryMinorRadius   = 0.1
	GeometryHeight        = 0.1
	GeometryOffset		  = X:0 Y:0.0 Z:0

;	Geometry              = BOX
;	GeometryMajorRadius   = 35.0
;	GeometryMinorRadius   = 105.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0 Y:0.0 Z:0
	
;	AdditionalGeometry    = CYLINDER
;	GeometryMajorRadius   = 30.0
;	GeometryMinorRadius   = 30.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0.0 Y:0.0 Z:0.0
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
  
  	GeometryContactPoint = X:-90  Y:70  Z:0 Grab
	GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
	GeometryContactPoint = X:-90  Y:-30 Z:10 
	GeometryContactPoint = X:-60  Y:-30 Z:60 
	GeometryContactPoint = X:-30   Y:-30 Z:10 
	GeometryContactPoint = X:0    Y:-30 Z:60
	GeometryContactPoint = X:30   Y:-30 Z:10
	GeometryContactPoint = X:60  Y:-30 Z:60
	GeometryContactPoint = X:90  Y:-30 Z:10 
	GeometryContactPoint = X:90 Y:-40 Z:0 Grab
	GeometryContactPoint = X:90 Y:70  Z:0 Grab
End



;------------------------------------------------------------------------------
;Rivendell Walkway
Object ElvenWalkwayCovering3_RJ

SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkway3T
    End

;    WallBoundsMesh = P1


;----- Damage States

		ModelConditionState  = COLLAPSING
			Model         = RivWalkway3TD
		End
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	 RivWalkway3TD.RivWalkway3TD
				AnimationMode		=	ONCE
  			End
		End

		ModelConditionState  = RUBBLE
			Model         = None
		End
		AnimationState = RUBBLE
		End

		ModelConditionState  = POST_RUBBLE
			Model         = None
		End
		AnimationState = POST_RUBBLE
		End
		
		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End  
		AnimationState = POST_COLLAPSE
		End	
                
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Elves
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160

; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

;  VoiceSelect         = NuclearReactorSelect
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI ;SELECTABLE WALK_ON_TOP_OF_WALL
 
	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 1000.0
    MaxHealthDamaged = 500.0
    MaxHealthReallyDamaged = 250.0
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0    
  End
  
  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
;	Behavior = KeepObjectDie ModuleTag_IWantRubble
;	End

;  Behavior            = DestroyDie ModuleTag_07
;    ;nothing
;  End
 
;  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
;		StartsActive	= Yes ;If no, requires upgrade to turn on.
;		BonusName		= HelmsDeepWallBonus
;		RefreshDelay	= 2000
;		;Range			= 120		; Range is overridden to affect people on us since we are a wall
;		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
;	End	

; 	Behavior = FireWeaponWhenDeadBehavior FireDeadTag1
;		DeathTypes		= ALL
;		StartsActive	= Yes
;		DeathWeapon		= WallDeath
;	End	

	Geometry              = BOX
	GeometryMajorRadius   = 0.1
	GeometryMinorRadius   = 0.1
	GeometryHeight        = 50.0
	GeometryOffset		  = X:0 Y:5.0 Z:50

;	Geometry              = BOX
;	GeometryMajorRadius   = 35.0
;	GeometryMinorRadius   = 105.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0 Y:0.0 Z:50
	
;	AdditionalGeometry    = CYLINDER
;	GeometryMajorRadius   = 30.0
;	GeometryMinorRadius   = 30.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0.0 Y:0.0 Z:0.0
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
  
  	GeometryContactPoint = X:-90  Y:70  Z:0 Grab
	GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
	GeometryContactPoint = X:-90  Y:-30 Z:10 
	GeometryContactPoint = X:-60  Y:-30 Z:60 
	GeometryContactPoint = X:-30   Y:-30 Z:10 
	GeometryContactPoint = X:0    Y:-30 Z:60
	GeometryContactPoint = X:30   Y:-30 Z:10
	GeometryContactPoint = X:60  Y:-30 Z:60
	GeometryContactPoint = X:90  Y:-30 Z:10 
	GeometryContactPoint = X:90 Y:-40 Z:0 Grab
	GeometryContactPoint = X:90 Y:70  Z:0 Grab
End

//---------------------------------------------
Object ElvenCastleWallHub_RJ
  
	// *** ART Parameters ***
  
  	SelectPortrait  =  BPEWall_WallHub
  
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		OkToChangeModelColor  = Yes
		UseStandardModelNames = Yes
		
		DefaultModelConditionState
			Model = EBWallRmprtN_A
		End

		IdleAnimationState
			StateName = STATE_None
		End	
		

		//------------ New Build Up States coming soon. 		
		ModelConditionState = SNOW AWAITING_CONSTRUCTION
			Model = EBWallRmprtN_A
			Texture	= EBFortress.tga EBFortress_snow.tga
		End
				
		ModelConditionState   = AWAITING_CONSTRUCTION 
			Model               = EBWallRmprtN_A
		End
		AnimationState        = AWAITING_CONSTRUCTION
			Animation           =  EBWallRmprtN_A
				AnimationName     =  EBWallRmprtN_A.EBWallRmprtN_A
				AnimationMode     = MANUAL
				AnimationBlendTime = 0
			End
			Flags				  = START_FRAME_FIRST
		End

		ModelConditionState = UPGRADE_NUMENOR_STONEWORK ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model	= EBWallRmprtN_A
			Texture	= EBFortress.tga EBFortress_U.tga
		End
		ModelConditionState = SNOW ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model = EBWallRmprtN_A
			Texture	= EBFortress.tga EBFortress_snow.tga
			Texture = EBDome.tga EBDome_snow.tga
		End
		
		ModelConditionState   = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Model               = EBWallRmprtN_A
		End
	    
		AnimationState        = ACTIVELY_BEING_CONSTRUCTED PARTIALLY_CONSTRUCTED
			Animation           = EBWallRmprtN_A
				AnimationName     = EBWallRmprtN_A.EBWallRmprtN_A
				AnimationMode     = MANUAL
				AnimationBlendTime = 0
			End
			Flags				  = START_FRAME_FIRST
			StateName			  = BeingConstructed
			ParticleSysBone   = NONE WallConstructDust FollowBone:Yes
			BeginScript
				CurDrawablePlaySound("GondorBarracksBeginConstruction")
			EndScript
		End


		//--damaged building	  
		ModelConditionState  = DAMAGED
			Model         = EBWallRmprtN_D1  
		End
		AnimationState = DAMAGED
			EnteringStateFX	= FX_BuildingDamaged
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = EBWallRmprtN_D2
		End
	    
	    AnimationState = REALLYDAMAGED
      		Animation				=	RubbleAnimation
				AnimationName		=	 EBWallRmprtN_D2.EBWallRmprtN_D2
				AnimationMode		=	ONCE
  			End
		    EnteringStateFX	= FX_BuildingReallyDamaged
		End
 
		ModelConditionState  = COLLAPSING
			Model         = EBWallRmprtN_D3
		End
		
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	 EBWallRmprtN_D3.EBWallRmprtN_D3
				AnimationMode		=	ONCE
  			End
  			EnteringStateFX	= FX_StructureMediumCollapse
  			ParticleSysBone NONE HubDestructionDust
		End

		ModelConditionState  = DYING
			Model         = EBWallRmprtN_D3
		End
		
		AnimationState = DYING
      		Animation				=	RubbleAnimation
				AnimationName		=	 EBWallRmprtN_D3.EBWallRmprtN_D3
				AnimationMode		=	ONCE
  			End
  			EnteringStateFX	= FX_StructureMediumCollapse
  			ParticleSysBone NONE HubDestructionDust
		End



		ModelConditionState  = RUBBLE
			Model         = None  
		End  
		
		ModelConditionState  = POST_RUBBLE
			Model         = NONE
		End
		AnimationState = POST_RUBBLE
		End


		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End
		
		AnimationState = POST_COLLAPSE
		End 

		ModelConditionState	= UPGRADE_NUMENOR_STONEWORK
			Model	= EBWallRmprtN
			Texture	= EBFortress.tga EBFortress_U.tga
		End

		ModelConditionState = SNOW  
			Model = EBWallRmprtN
			Texture	= EBFortress.tga EBFortress_snow.tga
			Texture = EBDome.tga EBDome_snow.tga
		End	   

	End
 
	// ***DESIGN parameters ***
	DisplayName         = OBJECT:ElvenCastleWallHub
	Side                = Elves
	EditorSorting       = STRUCTURE
	ThreatLevel = 1.0
; ;
 ArmorSet	; Added from 1.07
		Conditions        = None
		Armor             = ElvenWallArmor
		DamageFX          = None
	End

	BuildCost           = ELVEN_CASTLE_WALLHUB_BUILDCOST
	BuildTime           = ELVEN_CASTLE_WALLHUB_BUILDTIME		// in seconds
	VisionRange         = ELVEN_CASTLE_WALLHUB_VISION_RANGE
	ShroudClearingRange = ELVEN_CASTLE_WALLHUB_SHROUD_CLEAR

	CommandSet = ElvenCastleWallHubCommandSet
	

  ; *** AUDIO Parameters ***

	;#include "..\..\..\Includes\ElvenBuildingEvaEvents.inc"

	VoiceSelect						= NeutralWallHubSelect
    VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction

	SoundOnDamaged					= BuildingLightDamageStone
	SoundOnReallyDamaged			= BuildingHeavyDamageStone

    UnitSpecificSounds
        UnderConstruction		= BuildingConstructionLoop  ; Built first time
		; UnderRepairFromDamage	= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble	= BuildingConstructionLoop	; Repaired from completely destroyed (not used???)
    End

	;ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
	;	ModelCondition = REQUIRED:RUBBLE Sound:BuildingSink
	;End

	CampnessValue = CAMPNESS_WALL

	// *** ENGINEERING Parameters ***
	RadarPriority       = STRUCTURE
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE WALL_HUB MADE_OF_STONE WALL_UPGRADE
	ThreatBreakdown ThreatBreakdown_ModuleTag
		AIKindOf = WALL
	End
 
	Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
		Radius			= 60		// How far we try to claim ground
		MaxIncome		= 0			// If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
		IncomeInterval	= 999999	// How often (in msec) we give that much money
		HighPriority	= Yes		// A high priority claim gets to pretend it was there first.
		Visible = No 		;// Don't show decal when a resource building is selected.
	End

	Behavior            = GettingBuiltBehavior ModuleTag_04
		UseSpawnTimerWithoutWorker 		= Yes
		;SelfBuildingLoop			= BuildingConstructionLoop	// Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop	= WallConstructionLoop
		SelfRepairFromRubbleLoop	= BuildingConstructionLoop
		SpawnTimer	= DEFAULT_STRUCTURE_HEALDELAY
	End

	Body                = StructureBody ModuleTag_05
		MaxHealth				= 60000 ; RJ_ELVEN_CASTLE_WALLHUB_HEALTH
		MaxHealthDamaged		= 30000 ; RJ_ELVEN_CASTLE_WALLHUB_HEALTH_DAMAGED
		MaxHealthReallyDamaged	= 15000 ; RJ_ELVEN_CASTLE_WALLHUB_HEALTH_REALLY_DAMAGED
	End

	Behavior				= SlowDeathBehavior ModuleTag_SlowDeath
		DeathTypes			= ALL
		DestructionDelay	= 5000
	End
	
	Behavior = WallHubBehavior ModuleTag_WALL_HUB

		Options = OPTION_ONE
		MaxBuildoutDistance = 600	; RJ	; 400	; Change from 1.07	; RJ_MEN_FORTRESS_WALL_EFFECTIVE_RADIUS
		
		StaggeredBuildFactor = STANDARD_WALL_STAGGERED_BUILD_FACTOR

		//This defines the pattern built on flat terrain
		SegmentTemplateName = ElvenCastleWallSegment
		SegmentTemplateName = ElvenCastleWallSegment
		SegmentTemplateName = ElvenCastleWallSegment
		SegmentTemplateName = ElvenCastleWallSegment
		SegmentTemplateName = ElvenCastleWallSegment
;		SegmentTemplateName = ElvenCastleWallSegment	; Removed from 1.07
;		SegmentTemplateName = ElvenCastleWallSegment	; Removed from 1.07
;		SegmentTemplateName = ElvenCastleWallSegment	; Removed from 1.07
		SegmentTemplateName = ElvenCastleWallHub
		
		BuilderRadius = 20

		HubCapTemplateName = ElvenCastleWallHub
		DefaultSegmentTemplateName = ElvenCastleWallSegment

		CliffCapTemplateName = ElvenWallCliffCap		
		;ShoreCapTemplateName = [NAME]		
		;BorderCapTemplateName = [NAME]		
		;ElevatedSegmentTemplateName = [NAME]

	End
	
	

	//Encasing Vines
	Behavior = InheritUpgradeCreate ModuleTag_InheritStonework
		Radius = ELVEN_FORTRESS_WALL_EFFECTIVE_RADIUS
		Upgrade = Upgrade_ElvenFortressEncasingVines
		ObjectFilter = ANY +ElvenCitadel
	End

	Behavior = AttributeModifierUpgrade ModuleTag_Reinforced
		TriggeredBy				= Upgrade_ElvenFortressEncasingVines
		AttributeModifier		= EncasingVinesExpansion_Bonus		
	End

	Behavior = ModelConditionUpgrade ModuleTag_ShowTheVines
		TriggeredBy			= Upgrade_ElvenFortressEncasingVines		
		AddConditionFlags	= UPGRADE_NUMENOR_STONEWORK
		Permanent			= Yes
	End
	//End Encasing Vines

	//	Geometry for the temp small men wall hub
	Geometry              = CYLINDER
	GeometryMajorRadius   = 0.1 
	GeometryMinorRadius   = 0.1  
	GeometryHeight        = 0.1 
	GeometryIsSmall       = No

;	Geometry              = CYLINDER
;	GeometryMajorRadius   = 20.0 ; 
;	GeometryMinorRadius   = 20.0 ; 
;	GeometryHeight        = 70.0
;	GeometryIsSmall       = No
	
;	; additional geometry, exactly same as the wall piece - if this isn't here we might get holes!	
;	AdditionalGeometry    = BOX
;	GeometryMajorRadius   = 4.0		;10.0
;	GeometryMinorRadius   = 20.0	; 
;	GeometryHeight        = 40.0	; 50.0
;	GeometryIsSmall       = No
	
	;Geometry              = CYLINDER
	;GeometryMajorRadius   = 50.0
	;GeometryMinorRadius   = 50.0
	;GeometryHeight        = 50.0
	;GeometryIsSmall       = No
	  
	Shadow                = SHADOW_VOLUME
	BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
;Rivendell Walkway Curve
Object ElvenWalkwayCurveCovering_RJ

SelectPortrait = BPRHelmsDeep
 
  ; *** ART Parameters ***
;  SelectPortrait         = SNReactor_L
;  ButtonImage            = SNReactor
  ;day

  Draw = W3DScriptedModelDraw ModuleTag_Draw
    OkToChangeModelColor  = Yes
    UseStandardModelNames = Yes
	ExtraPublicBone = SIEGELADDER

    DefaultModelConditionState
      Model = RivWalkCurvT
    End

;    WallBoundsMesh = P1


;----- Damage States

		ModelConditionState  = COLLAPSING
			Model         = RivWalkCurvTD
		End
		AnimationState = COLLAPSING
      		Animation				=	RubbleAnimation
				AnimationName		=	 RivWalkCurvTD.RivWalkCurvTD
				AnimationMode		=	ONCE
  			End
		End

		ModelConditionState  = RUBBLE
			Model         = None
		End
		AnimationState = RUBBLE
		End

		ModelConditionState  = POST_RUBBLE
			Model         = None
		End
		AnimationState = POST_RUBBLE
		End
		
		ModelConditionState  = POST_COLLAPSE
			Model         = None
		End  
		AnimationState = POST_COLLAPSE
		End	
        
  End
  
  PlacementViewAngle  = 0
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Prop
  Side                = Elves
  EditorSorting       = STRUCTURE
  Browser = REGION Rivendell STRUCTURE
  ThreatLevel = 1.0
 
  BuildCost           = 1
  BuildTime           = 5.0           ; in seconds
  VisionRange         = 160.0          ; Shroud clearing distance
  ShroudClearingRange = 160



; For Testing Purposes


; *** AUDIO Parameters ***

	SoundOnDamaged			= BuildingLightDamageStone
	SoundOnReallyDamaged		= BuildingHeavyDamageStone

;  VoiceSelect         = NuclearReactorSelect
 
;  UnitSpecificSounds
;  UnderConstruction     = UnderConstructionLoop
;  End
 

  ; *** ENGINEERING Parameters ***

  RadarPriority       = NOT_ON_RADAR
  KindOf              = STRUCTURE IMMOBILE CHUNK_VENDOR  NOT_AUTOACQUIRABLE IGNORED_IN_GUI ;SELECTABLE WALK_ON_TOP_OF_WALL
 
	Behavior = SiegeDockingBehavior ModuleTag_SiegeDocking
	End

  Body                  = ActiveBody ModuleTag_B_03
    MaxHealth       = 2000
    MaxHealthDamaged = 1000
    MaxHealthReallyDamaged = 500
    
    GrabObject = EntThrownBuildingRock
	GrabFX = FX_WallGrab
	GrabDamage = 490
	GrabOffset = X:16 Y:0    
  End
  
  ArmorSet
    Conditions        = None
    Armor             = NoArmor 
    DamageFX          = None
  End

	; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
	; never truly destroyed, even when reduced to zero health. Also note that garrisonable
	; buildings automatically stick around because GarrisonContain has it's own DieModule
;	Behavior = KeepObjectDie ModuleTag_IWantRubble
;	End

;  Behavior            = DestroyDie ModuleTag_07
;    ;nothing
;  End
 
;  	Behavior = AttributeModifierAuraUpdate ModuleTag_WallBonus
;		StartsActive	= Yes ;If no, requires upgrade to turn on.
;		BonusName		= HelmsDeepWallBonus
;		RefreshDelay	= 2000
;		;Range			= 120		; Range is overridden to affect people on us since we are a wall
;		;TargetEnemy		= Yes	; Alliances are ignored to affect people on us since we are a wall
;	End	

; 	Behavior = FireWeaponWhenDeadBehavior FireDeadTag1
;		DeathTypes		= ALL
;		StartsActive	= Yes
;		DeathWeapon		= WallDeath
;	End	

	Geometry              = BOX
	GeometryMajorRadius   = 0.1
	GeometryMinorRadius   = 0.1
	GeometryHeight        = 0.1
	GeometryOffset		  = X:0 Y:5.0 Z:50.0

;	Geometry              = BOX
;	GeometryMajorRadius   = 50.0
;	GeometryMinorRadius   = 55.0
;	GeometryHeight        = 50.0
;	GeometryOffset		  = X:0 Y:0.0 Z:50.0
	
;	AdditionalGeometry    = CYLINDER
;	GeometryMajorRadius   = 40.0
;	GeometryMinorRadius   = 40.0
;	GeometryHeight        = 60.0
;	GeometryOffset		  = X:0.0 Y:0.0 Z:0
	
	GeometryIsSmall       = No
	Shadow                = SHADOW_VOLUME
  
  	GeometryContactPoint = X:-90  Y:70  Z:0 Grab
	GeometryContactPoint = X:-90  Y:-40 Z:0 Grab
	GeometryContactPoint = X:-90  Y:-30 Z:10 
	GeometryContactPoint = X:-60  Y:-30 Z:60 
	GeometryContactPoint = X:-30   Y:-30 Z:10 
	GeometryContactPoint = X:0    Y:-30 Z:60
	GeometryContactPoint = X:30   Y:-30 Z:10
	GeometryContactPoint = X:60  Y:-30 Z:60
	GeometryContactPoint = X:90  Y:-30 Z:10 
	GeometryContactPoint = X:90 Y:-40 Z:0 Grab
	GeometryContactPoint = X:90 Y:70  Z:0 Grab
End

Object ElvenCastle_RJ

	SelectPortrait = BPEFortress

	Draw	= W3DScriptedModelDraw ModuleTag_01		
		OkToChangeModelColor	= Yes
		StaticModelLODMode		= Yes // Will append M or L to the skin name depending on GameLOD
		
		DefaultModelConditionState
			Model           = None
		End

		;dummy idle animation state for audio
	    IdleAnimationState
			;StateName	=	STATE_Idle
		End    

		;//Need this since the default condition is none
		ModelConditionState = WORLD_BUILDER
			Model	= EBFortress
		End

		;//Phantom structure when placing a new building to be build
		ModelConditionState = BUILD_PLACEMENT_CURSOR
			Model	= None	//EBFortress
		End

		;//Structure that stays where you will be building until the porter reaches the place to start building.
		ModelConditionState =  PHANTOM_STRUCTURE
			Model	= EBFortress
		End

		ModelConditionState = RUBBLE
			Model		= EBFortress_D3
		End

		AnimationState	= RUBBLE
			Animation	= Fortress_Rubble
				AnimationName		= EBFortress_D3S.EBFortress_D3A
				AnimationMode		= ONCE				
			End			
			EnteringStateFX	= FX_FortressCollapse
		End
		
		ModelConditionState = ACTIVELY_BEING_CONSTRUCTED SNOW
			Model			= EBFortress_A
			Texture	= EBFortress.tga EBFortress_U_Snow.tga
		End
		ModelConditionState = ACTIVELY_BEING_CONSTRUCTED
			Model			= EBFortress_A
		End

		AnimationState = ACTIVELY_BEING_CONSTRUCTED
			Animation					= UpAndStill
				AnimationName			= EBFortress_ASK.EBFortress_ABL
				AnimationMode			= MANUAL
			End
			ParticleSysBone = NONE BuildingContructDustCastles FollowBone:YES
			ParticleSysBone = NONE FortressElven FollowBone:YES
			StateName = BeingConstructed
			BeginScript
				CurDrawablePlaySound("GondorBarracksBeginConstruction")
			EndScript
		End
	End

  	ArmorSet
		Conditions        = None
  		Armor             = FortressArmor
  		;//DamageFX          = StructureDamageFXNoShake
  	End

	Side                = Elves
	EditorSorting       = STRUCTURE

	PlacementViewAngle = -45 ;// A -90 makes the door of the base face natural south.  0 would have it to the East.
	
	BuildCost           = ELVEN_FORTRESS_BUILDCOST
	BuildTime           = ELVEN_FORTRESS_BUILDTIME //0

	DisplayName         = OBJECT:ElvenFortress

	; *** AUDIO Parameters ***
	;#include "..\..\..\Includes\ElvenBuildingEvaEvents.inc"

	VoiceFullyCreated				= EVA:FortressComplete-Builder-Elf
	VoiceSelect						= ElfFortressSelect
	VoiceSelectUnderConstruction	= BuildingGoodVoiceSelectUnderConstruction

	SoundOnDamaged					= BuildingLightDamageStone
	SoundOnReallyDamaged			= BuildingHeavyDamageStone

	UnitSpecificSounds
		UnderConstruction			= BuildingBigConstructionLoop  ; Built first time
		; UnderRepairFromDamage		= NoSound					; Repaired No animation on the building, so don't bother playing sound
		UnderRepairFromRubble		= BuildingBigConstructionLoop	; Repaired from completely destroyed (not used???)
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_PlayCollapseSound
		ModelCondition = REQUIRED:RUBBLE Sound:BuildingSink
	End

	// *** AUTO RESOLVE DATA ***
	; When fighting an auto-resolve battle, a World Map castle actually becomes this unit
	AutoResolveUnitType = AutoResolveUnit_Fortress
    
    	AutoResolveBody = AutoResolve_ElvenFortressBody
    
    	AutoResolveArmor
    		Armor = AutoResolve_ElvenFortressArmor
    	End

    	AutoResolveWeapon
    		Weapon = AutoResolve_ElvenFortressWeapon
    	End


	;// *** ENGINEERING Parameters ***  
	RadarPriority       = STRUCTURE
	KindOf              = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION MP_COUNT_FOR_VICTORY BASE_SITE CAN_SEE_THROUGH_STRUCTURE LIVING_WORLD_BUILDING_MIRROR
	
	//We can now take damage and die but only during construction.  The castle system will make us invulnerable when construction completes.
	Body                        = StructureBody ModuleTag_05
		MaxHealth         		    = 60000 ; RJ_ELVEN_FORTRESS_HEALTH		
	End

	Behavior = CastleBehavior ModuleTag_castle
  		CastleToUnpackForFaction	= Elves Castlerj_Elves
		CastleToUnpackForFaction	= Dwarves Castlerj_Elves
		CastleToUnpackForFaction	= Men Castlerj_Elves
		CastleToUnpackForFaction	= Wild Castlerj_Elves
		CastleToUnpackForFaction	= Isengard Castlerj_Elves
		CastleToUnpackForFaction	= Mordor Castlerj_Elves
		CastleToUnpackForFaction	= Angmar Castlerj_Elves
		CastleToUnpackForFaction	= Arnor  Castlerj_Elves
		CastleToUnpackForFaction	= Rohan  Castlerj_Elves

		;//Anything that does not fit this filter will be given to the neutral player, so the template can have rocks and props.
		FilterValidOwnedEntries		= ANY +STRUCTURE +WALK_ON_TOP_OF_WALL +BASE_FOUNDATION +TACTICAL_MARKER		

		MaxCastleRadius 			= 130.0
		InstantUnpack				= Yes		
		KeepDeathKillsEverything	= No

		EvaEnemyCastleSightedEvent = EnemyFortressSighted		
	End 

	Behavior                  = StructureCollapseUpdate ModuleTag_06
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_FortressCollapse
		;FXList                  = ALMOST_FINAL  FX_FortressCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 120
	End

	Behavior            = GettingBuiltBehavior ModuleTag_GettingBuiltBehavior
		WorkerName	= ElvenWorkerNoSelect
		SpawnTimer	= DEFAULT_STRUCTURE_HEALDELAY
	End

	Behavior = AIUpdateInterface ModuleTag_AI
		AILuaEventsList		=	FortressFunctions
	End
	
	//Main
	Geometry				= CYLINDER
    GeometryName			= Geom_Orig
  	GeometryMajorRadius		= 85.0	
	GeometryHeight			= 55.0	

	//Plot locations
	AdditionalGeometry		= BOX
	GeometryName			= Plots
	GeometryMajorRadius		= 10.0
	GeometryMinorRadius		= 10.0
	GeometryHeight			= 0.8
	GeometryOffset			= X:66.49 Y:-66.49 Z:0	

	AdditionalGeometry		= BOX
	GeometryName			= Plots
	GeometryMajorRadius		= 10.0
	GeometryMinorRadius		= 10.0
	GeometryHeight			= 0.8
	GeometryOffset			= X:0 Y:-94.0 Z:0	

	AdditionalGeometry		= BOX
	GeometryName			= Plots
	GeometryMajorRadius		= 10.0
	GeometryMinorRadius		= 10.0
	GeometryHeight			= 0.8
	GeometryOffset			= X:-66.49 Y:-66.49 Z:0	

	AdditionalGeometry		= BOX
	GeometryName			= Plots
	GeometryMajorRadius		= 10.0
	GeometryMinorRadius		= 10.0
	GeometryHeight			= 0.8
	GeometryOffset			= X:-94.0 Y:0 Z:0

	AdditionalGeometry		= BOX
	GeometryName			= Plots
	GeometryMajorRadius		= 10.0
	GeometryMinorRadius		= 10.0
	GeometryHeight			= 0.8
	GeometryOffset			= X:-66.49 Y:66.49 Z:0

	AdditionalGeometry		= BOX
	GeometryName			= Plots
	GeometryMajorRadius		= 10.0
	GeometryMinorRadius		= 10.0
	GeometryHeight			= 0.8
	GeometryOffset			= X:0 Y:94.0 Z:0

	AdditionalGeometry		= BOX
	GeometryName			= Plots
	GeometryMajorRadius		= 10.0
	GeometryMinorRadius		= 10.0
	GeometryHeight			= 0.8
	GeometryOffset			= X:66.49 Y:66.49 Z:0

	//Ramp (So units can attack it when the moat is in place)
	AdditionalGeometry		= BOX
	GeometryMajorRadius		= 12.0
 	GeometryMinorRadius		= 16.0
 	GeometryHeight			= 22.0
	GeometryOffset			= X:85 Y:0 Z:0

	GeometryIsSmall     	= No
	Shadow					= SHADOW_VOLUME
End


;------------------------------------------------------------------------------
Object ElvenCastleFloor_RJ

  ; *** ART Parameters ***
  Draw = W3DFloorDraw ModuleTag_01
      ModelName = EBCastFloor
      ForceToBack = Yes
  End


  ; *** AUDIO Parameters ***

	;VoiceSelect		= Gui_PlotSelect


  ; ***DESIGN parameters ***

  DisplayName      = OBJECT:CastFloor
  Side = Elves
  EditorSorting = STRUCTURE
; Browser = CINEMATICS UNIT

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  ; The STRUCTURE KindOf is needed so this object will be given to the base
  ; owner when it's unpacked and show up in the right color on the radar map.

  KindOf                = STRUCTURE IMMOBILE NO_COLLIDE UNATTACKABLE INERT 
  RadarPriority = NOT_ON_RADAR
  Body                  = ImmortalBody ModuleTag_03
    MaxHealth       = 2000.0
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = SlowDeathBehavior ModuleTag_SlowDeathWithoutRubble
      DestructionDelay  = 1000
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 0.8
  GeometryMinorRadius   = 0.8
  GeometryHeight        = 0.8
  GeometryIsSmall       = Yes
  GeometryOffset	= X:0.0 Y:-150.0 Z:0
End
