;------------------------------------------------------------------------------
Object GondorPortal
	  
	SelectPortrait = EMShadowPortal


	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
		  Model = Platform
			ParticleSysBone = None GondorPortalFX
			ParticleSysBone = None GondorPortalFX2
			//ParticleSysBone = None GondorPortalFX3
		End

	IdleAnimationState
	End	

	End 
 
	;// ***DESIGN parameters ***
	DisplayName         	= EVILMOD:TextNone
	Description 	      	= EVILMOD:TextNone
	Side                	= Men
	EditorSorting       	= STRUCTURE
	ThreatLevel				= 1.0
	 
	BuildCost           	= EVILMOD_PORTAL_COST
	BuildTime           	= SHADOW_PORTAL_TIME           ;// in seconds
	BountyValue				= 150
	VisionRange         	= ISENGARD_WARG_SENTRY_VISIONRANGE          ;// Shroud clearing distance
	ShroudClearingRange 	= ISENGARD_WARG_SENTRY_SHROUDCLEAR

	CommandSet = EmptyCommandSet
	
	ArmorSet
		Conditions        = None
		Armor             = PortalsArmor
	End

	;// *** AUDIO Parameters ***
	#include "..\..\..\includes\StandardBuildingEvaEvents.inc"

	CampnessValue = CAMPNESS_DEFENSIVE_TOWER
    ;VoiceFullyCreated = EVA:WargSentryComplete

	;// *** ENGINEERING Parameters ***

	RadarPriority       = STRUCTURE
	KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_FACTORY NEED_BASE_FOUNDATION CASTLE_KEEP MADE_OF_WOOD
	 
	Behavior            = GettingBuiltBehavior ModuleTag_04
		WorkerName					= MordorWorkerNoSelect
		SelfBuildingLoop			= BuildingConstructionLoop	// Only played if we DON'T spawn a worker
		SelfRepairFromDamageLoop	= NoSound					// This doesn't cause an animation, so don't bother playing a sound
		SelfRepairFromRubbleLoop	= BuildingConstructionLoop
		SpawnTimer	= DEFAULT_STRUCTURE_HEALDELAY
	End

	Body                = StructureBody ModuleTag_05
		MaxHealth               = 22000
	End

	
	Behavior = KeepObjectDie ModuleTag_IWantRubble
	End

	Behavior                  = StructureCollapseUpdate ModuleTag_StructureCollapseUpdate 
		MinCollapseDelay        = 000
		MaxCollapseDelay        = 000
		CollapseDamping         = .5
		MaxShudder              = 0.6
		MinBurstDelay           = 250
		MaxBurstDelay           = 800
		BigBurstFrequency       = 4
		FXList                  = INITIAL   FX_StructureMediumCollapse
		FXList                  = ALMOST_FINAL  FX_StructureAlmostCollapse
		DestroyObjectWhenDone	= Yes
		CollapseHeight			= 0
	End

	Behavior = QueueProductionExitUpdate ModuleTag_11
	   UnitCreatePoint		= X:0.0 Y:0.0 Z:0.0
		NaturalRallyPoint	= X:80.0 Y:80.0 Z:0.0
		ExitDelay			= 300 ; Mainly for the multiple produced Red Guard.  Make them come out one at a time.
	End
		
	Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP = No
	End

	Behavior = TerrainResourceBehavior ModuleTag_NewMoneyDeadSpot
		Radius			= 60		// How far we try to claim ground
		MaxIncome		= 0			// If we were to get all we wanted, how much we would earn.  Linear slope to 0 at 0% claim
		IncomeInterval	= 999999	// How often (in msec) we give that much money
		HighPriority	= Yes		// A high priority claim gets to pretend it was there first.
		Visible = No 		;// Don't show decal when a resource building is selected.
	End

	

	

	Behavior = StealthDetectorUpdate StealthDetectorUpdateModuleTag
		DetectionRange		= 400									;// range to detect
		DetectionRate		= 600									;// how often to rescan for stealthed things in my sight (msec)
		//RequiredUpgrade		= 
	End

	;Behavior = SpawnBehavior ModuleTag_Spawn
	;	SpawnNumber		= 14
	;	InitialBurst		= 14
	;	SpawnTemplateName	= BarrowWight_SlavedPortal
	;	SpawnReplaceDelay	= 15000
	;	CanReclaimOrphans	= Yes
	;End
	
	
	

 // Scale = 0.7


	GeometryIsSmall			= No
	
	Geometry              = BOX
	GeometryMajorRadius   = 5.0  
	GeometryMinorRadius   = 5.0 ; must be a multiple of 20
	GeometryHeight        = 5

	Shadow                = SHADOW_VOLUME
End