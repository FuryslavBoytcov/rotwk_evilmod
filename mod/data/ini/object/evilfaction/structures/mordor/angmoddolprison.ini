;------------------------------------------------------------------------------
Object EvilMod_DolGoldurPrison

  ; *** ART Parameters ***
  
  SelectPortrait  =  BPCDolGuldurPrison
  
  Draw = W3DScriptedModelDraw ModuleTag_01
	StaticModelLODMode		= yes ;// Will append M or L to the skin name depending on GameLOD

    DefaultModelConditionState
      Model = DGBPrison
    End
    
    ;--damaged building
	  
		ModelConditionState  = DAMAGED
			Model         = DGBPrison_D1  
		End
		AnimationState = DAMAGED
			EnteringStateFX	= FX_BuildingDamaged
		End	    
		
		ModelConditionState  = REALLYDAMAGED
			Model         = DGBPrison_D2
		End
	    
	    AnimationState = REALLYDAMAGED
     		Animation				=	RubbleAnimation
				AnimationName		=	DGBPrison_D2.DGBPrison_D2
				AnimationMode		=	ONCE
  			End
		    EnteringStateFX	= FX_BuildingReallyDamaged
		End
 
		ModelConditionState  = RUBBLE
			Model         = DGBPrison_D3
		End
		
		AnimationState = RUBBLE
      		Animation				=	RubbleAnimation
				AnimationName		=	DGBPrison_D3.DGBPrison_D3
				AnimationMode		=	ONCE
  			End
  			EnteringStateFX	= FX_DGBCastleCollapseNoSound
		End
  End
  
  ; *** AUDIO Parameters ***

  SoundOnDamaged		= BuildingLightDamageStone
  SoundOnReallyDamaged	= BuildingHeavyDamageStone

  ;SoundAmbientDamaged = GenericFireMediumLoop
  ;SoundAmbientReallyDamaged = GenericFireLargeLoop

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:DolGoldurPrison

	CommandSet  =  DolGuldurPrisonCommandSet

  EditorSorting   = STRUCTURE

  ArmorSet
    Conditions        = None
    Armor             = NoArmor
    DamageFX          = None
  End

  ; *** ENGINEERING Parameters ***  
  KindOf	= VITAL_FOR_BASE_SURVIVAL PRELOAD SELECTABLE STRUCTURE IMMOBILE SCORE CASTLE_KEEP MP_COUNT_FOR_VICTORY CAN_ATTACK FS_FACTORY AUTO_RALLYPOINT DOZER_FACTORY  

//KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_FACTORY NEED_BASE_FOUNDATION CASTLE_KEEP MADE_OF_WOOD IGNORE_FOR_VICTORY NEVER_CULL_FOR_MP DONT_HIDE_IF_FOGGED ;SCORE
  RadarPriority = STRUCTURE
  
  Behavior            = GettingBuiltBehavior GetBuiltBehaviorTag
    	WorkerName		  = MordorWorkerNoSelect
 	End

	Body                = StructureBody ModuleTag_05
    	MaxHealth         = 6000
    	MaxHealthDamaged  = 4000
    	MaxHealthReallyDamaged = 2000 
  	End
  	
  	 Behavior                  = StructureCollapseUpdate ModuleTag_06
       MinCollapseDelay        = 200
       MaxCollapseDelay        = 400
       CollapseHeight			= 300 ; Override the geometry so we can make it sink farther with no new problems.
       CollapseDamping         = .5
       MaxShudder              = 0.6
       MinBurstDelay           = 250
       MaxBurstDelay           = 1200
       BigBurstFrequency       = 4
	   FXList                  = INITIAL FX_StructureEntMootCollapse
     End

	Behavior = ProductionUpdate ProductionUpdateModuleTag
		// nothing, but is required if we have any Object-level Upgrades!
	End

	Behavior = QueueProductionExitUpdate ModuleTag_QueuePEU
		UnitCreatePoint			= X:0.0 Y:0.0 Z:60.0
		NaturalRallyPoint		= X:0.0 Y:0.0 Z:60.0			; NaturalRallyPointX must always match GeometryMajorRadius!
		ExitDelay			= 300					; Handles delays between units if multiple produced at a time.
		AllowAirborneCreation		= Yes
	End 

  Geometry              = CYLINDER
  GeometryMajorRadius   = 63
  GeometryHeight        = 110
  GeometryOffset	= X:-30 Y:20 Z:0

AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 80
  GeometryHeight        = 55
  GeometryOffset	= X:-32 Y:21 Z:0

AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 13
  GeometryHeight        = -25
  GeometryOffset	= X:0 Y:-35 Z:85

AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 13
  GeometryHeight        = -25
  GeometryOffset	= X:2 Y:70 Z:85

AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 13
  GeometryHeight        = -90
  GeometryOffset	= X:45 Y:18 Z:130

AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 13
  GeometryHeight        = -25
  GeometryOffset	= X:-90 Y:16 Z:85

AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 20
  GeometryHeight        = 20
  GeometryOffset	= X:-72 Y:-55 Z:65


AdditionalGeometry    = CYLINDER
  GeometryMajorRadius   = 17
  GeometryHeight        = 20
  GeometryOffset	= X:-72 Y:90 Z:65
  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End 